# üí∞ PRICING DEFINITIVO ‚Äî CLINESA

**Versi√≥n:** 2.0 (Ajustada)
**Fecha:** 2025-09-29
**Modelo:** Cr√©ditos consumibles por uso de IA
**Naming:** SOLO / PRACTICE / PROFESSIONAL

---

## üéØ ESTRUCTURA DE PLANES FINAL

### **Plan SOLO** (antes "FREE")
```yaml
Precio mensual:        ‚Ç¨9/mes
Cr√©ditos/mes:          250 cr√©ditos
Equivalente sesiones:  ~6 sesiones de 30min
Pacientes:             Hasta 10 pacientes
Sesiones almacenadas:  Ilimitadas
Storage audio:         200 MB
An√°lisis IA:           ‚úÖ S√ç (consume cr√©ditos)
Renovaci√≥n cr√©ditos:   Mensual (250 nuevos)
Carry-over cr√©ditos:   ‚úÖ S√ç (no expiran)
Soporte:               Email (48-72h)
```

**Target:** Terapeuta independiente, pr√°ctica ocasional o inicio.
**Perfil:** 5-10 pacientes, 1-2 sesiones/semana.

**Margen:**
- Costo IA real (6.5 sesiones √ó ‚Ç¨0.38): **‚Ç¨2.47**
- Costo Stripe (2.9% + ‚Ç¨0.25): **‚Ç¨0.51**
- Costo infra: **‚Ç¨0.50**
- **Margen bruto**: **‚Ç¨5.52** (61%) ‚úÖ

**Restricciones vs PRACTICE:**
- ‚ùå Solo 10 pacientes m√°x
- ‚ùå Storage limitado (200 MB vs 2 GB)
- ‚ùå Soporte m√°s lento
- ‚ùå No exportaci√≥n masiva

---

### **Plan PRACTICE** (antes "STARTER")
```yaml
Precio mensual:        ‚Ç¨29/mes
Cr√©ditos/mes:          1,200 cr√©ditos
Equivalente sesiones:  ~31 sesiones de 30min
Pacientes:             Ilimitados
Sesiones almacenadas:  Ilimitadas
Storage audio:         3 GB
An√°lisis IA:           ‚úÖ S√ç (consume cr√©ditos)
Cr√©ditos extras:       ‚Ç¨15 por 1,000 cr√©ditos
Renovaci√≥n cr√©ditos:   Mensual (1,200 nuevos)
Carry-over cr√©ditos:   ‚úÖ S√ç (no expiran)
Soporte:               Email prioritario (24h)
Exportaci√≥n:           ‚úÖ CSV
```

**Target:** Consultorio en crecimiento, profesional establecido.
**Perfil:** 20-40 pacientes, pr√°ctica regular.

**Margen:**
- Costo IA real (31 sesiones √ó ‚Ç¨0.38): **‚Ç¨11.78**
- Costo Stripe (2.9% + ‚Ç¨0.25): **‚Ç¨1.09**
- Costo infra: **‚Ç¨1.50**
- **Margen bruto**: **‚Ç¨14.63** (50%) ‚úÖ

**Mejoras vs SOLO:**
- ‚úÖ Pacientes ilimitados
- ‚úÖ 15√ó m√°s storage (3 GB vs 200 MB)
- ‚úÖ Soporte prioritario
- ‚úÖ Exportaci√≥n CSV
- ‚úÖ 20% m√°s cr√©ditos/‚Ç¨ (1,200 cr√©ditos vs 250)

---

### **Plan PROFESSIONAL** (antes "PRO")
```yaml
Precio mensual:        ‚Ç¨49/mes
Cr√©ditos/mes:          3,200 cr√©ditos
Equivalente sesiones:  ~84 sesiones de 30min
Pacientes:             Ilimitados
Sesiones almacenadas:  Ilimitadas
Storage audio:         10 GB
An√°lisis IA:           ‚úÖ S√ç (consume cr√©ditos)
Cr√©ditos extras:       ‚Ç¨12 por 1,000 cr√©ditos (20% off)
Renovaci√≥n cr√©ditos:   Mensual (3,200 nuevos)
Carry-over cr√©ditos:   ‚úÖ S√ç (no expiran)
Soporte:               Email prioritario (<12h) + Chat
Exportaci√≥n:           ‚úÖ CSV + JSON + PDF
Integraciones:         ‚úÖ API access (beta)
White-label:           ‚úÖ Logo personalizado
```

**Target:** Profesional full-time, consultorio intensivo.
**Perfil:** 50-80 pacientes, m√∫ltiples sesiones diarias.

**Margen:**
- Costo IA real (84 sesiones √ó ‚Ç¨0.38): **‚Ç¨31.92**
- Costo Stripe (2.9% + ‚Ç¨0.25): **‚Ç¨1.67**
- Costo infra: **‚Ç¨2.50**
- **Margen bruto**: **‚Ç¨12.91** (26%) ‚úÖ

**Mejoras vs PRACTICE:**
- ‚úÖ 2.7√ó m√°s cr√©ditos (3,200 vs 1,200)
- ‚úÖ 3√ó m√°s storage (10 GB vs 3 GB)
- ‚úÖ Soporte chat en tiempo real
- ‚úÖ Exportaci√≥n avanzada (JSON + PDF)
- ‚úÖ API access (beta)
- ‚úÖ Logo personalizado

---

## üÜì PLAN GRATUITO (Trial 14 d√≠as)

Para no perder usuarios que quieren probar antes de pagar, mantener un **trial de 14 d√≠as**:

```yaml
Duraci√≥n:              14 d√≠as (una sola vez)
Cr√©ditos:              100 cr√©ditos (2-3 sesiones)
Pacientes:             Hasta 3
Storage:               50 MB
An√°lisis IA:           ‚úÖ S√ç
Tarjeta requerida:     ‚ùå NO
Upgrade manual:        A SOLO, PRACTICE o PROFESSIONAL
```

**Post-trial:**
- Usuario debe elegir plan de pago
- O cuenta queda en "read-only" (puede ver datos, no crear nuevos)

---

## üìä COMPARATIVA DE PLANES

| Feature | SOLO | PRACTICE | PROFESSIONAL |
|---------|------|----------|--------------|
| **Precio/mes** | ‚Ç¨9 | ‚Ç¨29 | ‚Ç¨49 |
| **Cr√©ditos/mes** | 250 | 1,200 | 3,200 |
| **Sesiones ~30min** | ~6 | ~31 | ~84 |
| **Pacientes m√°x** | 10 | ‚àû | ‚àû |
| **Storage audio** | 200 MB | 3 GB | 10 GB |
| **Costo/sesi√≥n** | ‚Ç¨1.50 | ‚Ç¨0.94 | ‚Ç¨0.58 |
| **Soporte** | 48-72h | <24h | <12h + Chat |
| **Exportaci√≥n** | ‚ùå | CSV | CSV+JSON+PDF |
| **API access** | ‚ùå | ‚ùå | ‚úÖ Beta |
| **White-label** | ‚ùå | ‚ùå | ‚úÖ |
| **Margen bruto** | 61% | 50% | 26% |

---

## üéÅ PACKS DE CR√âDITOS (Add-ons)

| Pack | Cr√©ditos | Precio | ‚Ç¨/cr√©dito | Sesiones ~30min |
|------|----------|--------|-----------|-----------------|
| **Pack 500** | 500 | ‚Ç¨10 | ‚Ç¨0.020 | ~13 |
| **Pack 1,200** | 1,200 | ‚Ç¨22 | ‚Ç¨0.018 | ~31 |
| **Pack 3,000** | 3,000 | ‚Ç¨48 | ‚Ç¨0.016 | ~79 |

**Uso:** Para usuarios que superan su cuota mensual.

---

## üí° L√ìGICA DE UPSELL

### **Trial ‚Üí SOLO:**
- Banner d√≠a 7: "Te quedan 7 d√≠as. Contin√∫a con SOLO por solo ‚Ç¨9/mes"
- Email d√≠a 10: "4 d√≠as para decidir. SOLO incluye 250 cr√©ditos/mes"
- D√≠a 14: Modal bloqueante con 3 opciones de planes

### **SOLO ‚Üí PRACTICE:**

**Triggers:**
1. Usuario alcanza 10 pacientes ‚Üí "Desbloquea pacientes ilimitados con PRACTICE"
2. Consume 200 cr√©ditos (80%) ‚Üí "Actualiza a PRACTICE y obt√©n 1,200 cr√©ditos/mes"
3. Storage >150 MB ‚Üí "Ampl√≠a a 3 GB con PRACTICE"

**CTA:** "Actualizar por solo ‚Ç¨20/mes adicionales"

### **PRACTICE ‚Üí PROFESSIONAL:**

**Triggers:**
1. Consume >1,000 cr√©ditos/mes durante 2 meses ‚Üí "Ahorra con PROFESSIONAL"
2. Compra 2+ packs de cr√©ditos ‚Üí "PROFESSIONAL incluye 3,200 cr√©ditos base"
3. Storage >2.5 GB ‚Üí "10 GB con PROFESSIONAL"

**CTA:** "Actualizar por ‚Ç¨20/mes y obt√©n 2,000 cr√©ditos extra"

---

## üìà PROYECCI√ìN FINANCIERA

### Escenario realista (250 usuarios a 12 meses)

| Plan | Usuarios | MRR | Costo IA/mes | Margen/mes |
|------|----------|-----|--------------|------------|
| **Trial** | 50 | ‚Ç¨0 | ‚Ç¨190 | -‚Ç¨190 |
| **SOLO** | 120 | ‚Ç¨1,080 | ‚Ç¨296 | ‚Ç¨784 |
| **PRACTICE** | 60 | ‚Ç¨1,740 | ‚Ç¨707 | ‚Ç¨1,033 |
| **PROFESSIONAL** | 20 | ‚Ç¨980 | ‚Ç¨638 | ‚Ç¨342 |
| **TOTAL** | 250 | **‚Ç¨3,800** | ‚Ç¨1,831 | **‚Ç¨1,969** (52%) |

**ARR:** ‚Ç¨45,600
**CAC objetivo:** <‚Ç¨30 (Google Ads + content marketing)
**LTV/CAC:** >5

**Conversi√≥n estimada:**
- Trial ‚Üí SOLO: 40%
- SOLO ‚Üí PRACTICE: 15% (18 usuarios)
- PRACTICE ‚Üí PROFESSIONAL: 10% (6 usuarios)

---

## üéØ VENTAJAS COMPETITIVAS

| Feature | CLINESA | SimplePractice | TherapyNotes |
|---------|---------|----------------|--------------|
| **Precio inicio** | ‚Ç¨9 | $29 | $49 |
| **IA incluida** | ‚úÖ | ‚ùå | ‚ùå |
| **Transcripci√≥n audio** | ‚úÖ | ‚ùå | ‚ùå |
| **Pay-per-use** | ‚úÖ | ‚ùå (flat) | ‚ùå (flat) |
| **Cr√©ditos no expiran** | ‚úÖ | N/A | N/A |
| **Trial sin tarjeta** | ‚úÖ | ‚ùå | ‚ùå |

---

## üîß CAMBIOS T√âCNICOS REQUERIDOS

### 1. **Actualizar `prisma/schema.prisma`:**

```typescript
enum Plan {
  SOLO          // antes FREE
  PRACTICE      // antes STARTER
  PROFESSIONAL  // antes PRO
}

model User {
  credits: Int @default(0) // Ya no 100 por defecto (trial aparte)
  maxPatients: Int? // NULL = ilimitado, 10 para SOLO
  trialEndsAt: DateTime? // Para gestionar trial de 14 d√≠as
  trialUsed: Boolean @default(false)
}
```

### 2. **Actualizar `src/lib/billing/credits.ts`:**

```typescript
export const PLAN_CREDITS = {
  SOLO: 250,           // antes FREE: 100
  PRACTICE: 1200,      // antes STARTER: 1000
  PROFESSIONAL: 3200,  // antes PRO: 3000
} as const

export const STORAGE_LIMITS = {
  SOLO: 200 * 1024 * 1024,            // 200 MB
  PRACTICE: 3 * 1024 * 1024 * 1024,   // 3 GB
  PROFESSIONAL: 10 * 1024 * 1024 * 1024, // 10 GB
} as const

export const MAX_PATIENTS = {
  SOLO: 10,
  PRACTICE: null,  // ilimitado
  PROFESSIONAL: null,
} as const
```

### 3. **Crear helper para trial:**

`src/lib/billing/trial.ts`:
```typescript
export async function startTrial(userId: string) {
  const trialEnd = new Date()
  trialEnd.setDate(trialEnd.getDate() + 14)

  await prisma.user.update({
    where: { id: userId },
    data: {
      credits: 100,
      trialEndsAt: trialEnd,
      trialUsed: true,
      maxPatients: 3,
    }
  })
}

export async function isTrialActive(userId: string): Promise<boolean> {
  const user = await prisma.user.findUnique({
    where: { id: userId },
    select: { trialEndsAt: true }
  })
  return user?.trialEndsAt ? user.trialEndsAt > new Date() : false
}
```

### 4. **A√±adir check de l√≠mite de pacientes:**

En `/api/patients/route.ts` POST:
```typescript
const plan = await getUserPlan(userId)
const maxPatients = MAX_PATIENTS[plan]

if (maxPatients !== null) {
  const currentCount = await prisma.patient.count({ where: { userId } })
  if (currentCount >= maxPatients) {
    return NextResponse.json({
      error: "PATIENT_LIMIT_REACHED",
      message: `Plan ${plan} limitado a ${maxPatients} pacientes. Actualiza a PRACTICE para pacientes ilimitados.`
    }, { status: 402 })
  }
}
```

---

## üí∞ PRICING EN STRIPE

### Productos a crear:

1. **SOLO Monthly**
   - Price: ‚Ç¨9/mes
   - Price ID: `price_solo_monthly`
   - Metadata: `{ plan: "SOLO", credits: 250 }`

2. **PRACTICE Monthly**
   - Price: ‚Ç¨29/mes
   - Price ID: `price_practice_monthly`
   - Metadata: `{ plan: "PRACTICE", credits: 1200 }`

3. **PROFESSIONAL Monthly**
   - Price: ‚Ç¨49/mes
   - Price ID: `price_professional_monthly`
   - Metadata: `{ plan: "PROFESSIONAL", credits: 3200 }`

4. **Credit Pack 500**
   - Price: ‚Ç¨10 (one-time)
   - Price ID: `price_credits_500`
   - Metadata: `{ credits: 500 }`

5. **Credit Pack 1200**
   - Price: ‚Ç¨22 (one-time)
   - Price ID: `price_credits_1200`
   - Metadata: `{ credits: 1200 }`

6. **Credit Pack 3000**
   - Price: ‚Ç¨48 (one-time)
   - Price ID: `price_credits_3000`
   - Metadata: `{ credits: 3000 }`

---

## üé® COPY PARA LANDING/DASHBOARD

### Headline principal:
> **Gestiona tu pr√°ctica terap√©utica con IA**
> Transcripci√≥n autom√°tica, an√°lisis inteligente, solo pagas por lo que usas.

### Pricing section:

```
Elige el plan perfecto para tu pr√°ctica

[SOLO]         [PRACTICE ‚≠ê]      [PROFESSIONAL]
‚Ç¨9/mes         ‚Ç¨29/mes            ‚Ç¨49/mes
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚úì 250 cr√©ditos  ‚úì 1,200 cr√©ditos  ‚úì 3,200 cr√©ditos
‚úì ~6 sesiones   ‚úì ~31 sesiones    ‚úì ~84 sesiones
‚úì 10 pacientes  ‚úì Ilimitados      ‚úì Ilimitados
‚úì 200 MB        ‚úì 3 GB storage    ‚úì 10 GB storage
‚úì IA incluida   ‚úì Exportar CSV    ‚úì API access
                ‚úì Soporte 24h     ‚úì White-label

[Empezar]      [Empezar]         [Empezar]

üí° Prueba gratis 14 d√≠as. Sin tarjeta.
```

### FAQ pricing:

**¬øQu√© son los cr√©ditos?**
> 1 cr√©dito = ‚Ç¨0.01. Cada minuto de audio analizado consume ~1.3 cr√©ditos. Una sesi√≥n de 30 minutos = 38 cr√©ditos.

**¬øLos cr√©ditos expiran?**
> No. Los cr√©ditos no expiran y se acumulan entre meses.

**¬øPuedo cambiar de plan?**
> S√≠, en cualquier momento. Al hacer upgrade, tus cr√©ditos se mantienen. Al hacer downgrade, tambi√©n.

**¬øQu√© pasa si me quedo sin cr√©ditos?**
> Puedes comprar packs adicionales (‚Ç¨10-‚Ç¨48) o actualizar tu plan.

---

## ‚úÖ RESUMEN DE CAMBIOS

### Naming:
- ‚ùå FREE ‚Üí ‚úÖ **SOLO** (‚Ç¨9/mes)
- ‚ùå STARTER ‚Üí ‚úÖ **PRACTICE** (‚Ç¨29/mes)
- ‚ùå PRO ‚Üí ‚úÖ **PROFESSIONAL** (‚Ç¨49/mes)

### Cr√©ditos ajustados:
- SOLO: 250 cr√©ditos (~6 sesiones)
- PRACTICE: 1,200 cr√©ditos (~31 sesiones)
- PROFESSIONAL: 3,200 cr√©ditos (~84 sesiones)

### Restricciones SOLO:
- ‚úÖ M√°ximo 10 pacientes
- ‚úÖ Storage 200 MB (reducido)
- ‚úÖ Sin exportaci√≥n
- ‚úÖ Soporte 48-72h

### Trial gratuito:
- ‚úÖ 14 d√≠as sin tarjeta
- ‚úÖ 100 cr√©ditos iniciales
- ‚úÖ M√°ximo 3 pacientes

---

**¬øApruebas esta versi√≥n?** Si s√≠, procedo a:
1. Actualizar schema Prisma
2. Actualizar helpers de billing
3. Crear checks de l√≠mites
4. Preparar integraci√≥n Stripe